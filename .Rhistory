gc()
#Leitura dos dados
# A leitura foi realizada pelo método click and point de import dataset histórico
df_parte1 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte1_30jan2022.csv")
df_parte2 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte2_30jan2022.csv")
df_parte1_2021 <- read.csv("HIST_PAINEL_COVIDBR_2021_Parte1_30jan2022.csv")
df_parte2_2021 <-read.csv("HIST_PAINEL_COVIDBR_2021_Parte2_30jan2022.csv")
#Ano de 2022
df_parte2_2022 <-read.csv("HIST_PAINEL_COVIDBR_2022_Parte1_30jan2022.csv")
#Selecionando apenas as variáveis de interesse
#Os argumentos utilizados escolhem a label = Brasil na coluna referente a regiao e depois as variáveis elegidas
df_parte1_sel <- df_parte1[df_parte1$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte2_sel <- df_parte2[df_parte2$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte1_sel_2021 <- df_parte1_2021[df_parte1_2021$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte2_sel_2021 <- df_parte2_2021[df_parte2_2021$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
#carregando bibliotecas
library("tidyverse")
#Leitura dos dados
# A leitura foi realizada pelo método click and point de import dataset histórico
#Ano de 2020
df_parte1 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte1_30jan2022.csv")
df_parte2 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte2_30jan2022.csv")
#Ano de 2021
df_parte1_2021 <- read.csv("HIST_PAINEL_COVIDBR_2021_Parte1_30jan2022.csv")
df_parte2_2021 <-read.csv("HIST_PAINEL_COVIDBR_2021_Parte2_30jan2022.csv")
#Ano de 2022
df_parte2_2022 <-read.csv("HIST_PAINEL_COVIDBR_2022_Parte1_30jan2022.csv")
#Ano de 2022
df_parte1_2022 <-read.csv("HIST_PAINEL_COVIDBR_2022_Parte1_30jan2022.csv")
#Selecionando apenas as variáveis de interesse
#Os argumentos utilizados escolhem a label = Brasil na coluna referente a regiao e depois as variáveis elegidas
df_parte1_sel <- df_parte1[df_parte1$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
#Leitura dos dados
# A leitura foi realizada pelo método click and point de import dataset histórico
#Ano de 2020
df_parte1 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte1_30jan2022.csv", sep = ;)
#Leitura dos dados
# A leitura foi realizada pelo método click and point de import dataset histórico
#Ano de 2020
df_parte1 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte1_30jan2022.csv", sep = ";")
View(df_parte1)
df_parte2 <- read.csv("HIST_PAINEL_COVIDBR_2020_Parte2_30jan2022.csv", sep = ";")
#Ano de 2021
df_parte1_2021 <- read.csv("HIST_PAINEL_COVIDBR_2021_Parte1_30jan2022.csv", sep = ";")
df_parte2_2021 <-read.csv("HIST_PAINEL_COVIDBR_2021_Parte2_30jan2022.csv", sep = ";")
#Ano de 2022
df_parte1_2022 <-read.csv("HIST_PAINEL_COVIDBR_2022_Parte1_30jan2022.csv", sep = ";")
#Selecionando apenas as variáveis de interesse
#Os argumentos utilizados escolhem a label = Brasil na coluna referente a regiao e depois as variáveis elegidas
df_parte1_sel <- df_parte1[df_parte1$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte2_sel <- df_parte2[df_parte2$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte1_sel_2021 <- df_parte1_2021[df_parte1_2021$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte2_sel_2021 <- df_parte2_2021[df_parte2_2021$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte1_sel_2022 <- df_parte1_2022[df_parte1$regiao == "Brasil",c("regiao","data","casosNovos", "obitosNovos")]
df_parte1_sel_2022 <- df_parte1_sel_2022 %>% select(data, casosNovos, obitosNovos)
#select das variáveis de interesse, exluindo a label Brasil
df_parte1_sel <- df_parte1_sel %>% select(data, casosNovos, obitosNovos)
df_parte2_sel <- df_parte2_sel %>% select(data, casosNovos, obitosNovos)
df_parte1_sel_2021 <- df_parte1_sel_2021 %>% select(data, casosNovos, obitosNovos)
df_parte2_sel_2021 <- df_parte2_sel_2021 %>% select(data, casosNovos, obitosNovos)
#Empilhando as bases
df_2020 <- bind_rows(df_parte1_sel, df_parte2_sel, df_parte1_sel_2021, df_parte2_sel_2021, df_parte1_sel_2022 )
View(df_2020)
head(df_2020, n=30)
#Empilhando as bases
df <- bind_rows(df_parte1_sel, df_parte2_sel, df_parte1_sel_2021, df_parte2_sel_2021, df_parte1_sel_2022 )
head(df_2020, n=30)
head(df, n=30)
descritivas_df <- summarise(df,
observações=n(),
média=mean(obitosNovos),
mediana=median(obitosNovos),
desv_pad=sd(obitosNovos),
mínimo=min(obitosNovos),
máximo=max(obitosNovos))
print(descritivas_df)
install.packages("moments")
#Testes de normalidade com a biblioteca moments
library("moments")
hist(df$obitosNovos)
hist(df$casosNovos)
shapiro.test(df$obitosNovos)
#assimetria
skewness(df$obitosNovos, na.rm=T)
View(df_parte1_sel_2022)
inicio_vax <- ymd("2021-08-18")
inicio_vax <- as.Date("18/01/2021",format = '%d/%m/%Y')
filtro_iniciovax <- filter(df, data < inicio_vax)
View(filtro_iniciovax)
filtro_iniciovax <- filter(df, data <= inicio_vax)
filtro_halfvax <- filter(df, data <= half_vax)
half_vax <- as.Date("18/08/2021",format = '%d/%m/%Y')
filtro_halfvax <- filter(df, data <= half_vax)
filtro_iniciovax1 <- filter(df, data <= inicio_vax)
filtro_iniciovax2 <- filter(df, data > inicio_vax)
hist(filtro_iniciovax1$obitosNovos)
hist(filtro_iniciovax2$obitosNovos)
shapiro.test(filtro_iniciovax2$obitosNovos)
shapiro.test(filtro_iniciovax1$obitosNovos)
hist(filtro_halfvax1$obitosNovos)
filtro_halfvax <- filter(df, data <= half_vax)
hist(filtro_halfvax1$obitosNovos)
half_vax <- as.Date("18/08/2021",format = '%d/%m/%Y')
filtro_halfvax <- filter(df, data <= half_vax)
hist(filtro_halfvax$obitosNovos)
install.packages("zoo")
install.packages("zoo")
library(zoo)
library(zoo)
#Calculando das médias móveis
mm <- rollmean(df$obitosNovos, 7, align = "right")
print(mm)
lenght(mm)
length(mm)
#Calculando das médias móveis
mm <- c(rollmean(df$obitosNovos, 7, align = "right"))
length(mm)
print(mm)
media_movel = c(mm)
hist(mm)
teste_tabela <- cbind(df$data, c(rep(NA, 6), mm))
View(teste_tabela)
teste_tabela <- cbind(df$data, c(rep(NA, 6), mm), na.rm=T)
View(teste_tabela)
teste_tabela <- cbind(df$data, c(rep(NA, 6), mm))
View(teste_tabela)
View(teste_tabela)
teste_tabela <- teste_tabela[21:,]
View(teste_tabela)
teste_tabela <- teste_tabela[22:845,c("data","mm_obitos")]
View(teste_tabela)
teste_tabela <- teste_tabela[22:834,c("data","mm_obitos")]
View(teste_tabela)
teste_tabela <- teste_tabela[22:834,]
View(teste_tabela)
teste_tabela %>% rename(data = V1,
mm_obitos = v2)
teste_tabela %>% rename(V1 = dias,
V2 = mm_obitos)
View(teste_tabela)
teste_tabela %>% as.data.frame(teste_tabela) %>% rename(V1 = dias,
V2 = mm_obitos)
teste_tabela %>% as.data.frame(teste_tabela) %>% rename(dias = V1,
mm_obitos = V2)
View(teste_tabela)
df_mm <- teste_tabela %>% as.data.frame(teste_tabela) %>% rename(dias = V1,
mm_obitos = V2)
View(df_mm)
hist(df_mm)
View(df_mm)
#criando um dataframe da tabela de médias móveis
df_mm <- teste_tabela %>% as.data.frame(teste_tabela)
%>% rename(dias = V1, mm_obitos = V2)
#criando um dataframe da tabela de médias móveis
df_mm <- teste_tabela %>% as.data.frame(teste_tabela) %>%
rename(dias = V1, mm_obitos = V2)
hist(df_mm)
hist(df_mm$mm_obitos)
str(df_mm)
#convertendo as colunas
df_mm %>%  as.numeric(df_mm$mm_obitos) %>% as.Date(df_mm$dias)
#convertendo as colunas
df_mm %>%  as.numeric(df_mm$mm_obitos) %>% as.Date(df_mm$dias)
#convertendo as colunas
df_mm %>%  as.numeric(df_mm$mm_obitos)
#convertendo as colunas
df_mm %>%  as.double(df_mm$mm_obitos)
#convertendo as colunas
df_mm %>%  as.numeric_version(df_mm$mm_obitos)
#convertendo as colunas
df_mm %>%  as.numeric((sub(",", ".",df_mm$mm_obitos)
str(df_mm)
#convertendo as colunas
df_mm %>%  as.numeric((sub(",", ".",df_mm$mm_obitos)
#convertendo as colunas
df_mm %>%  as.numeric((sub(",", ".", df_mm$mm_obitos)
#convertendo as colunas
df_mm %>%  as.numeric(sub(",", ".", df_mm$mm_obitos))
str(df_mm)
#convertendo as colunas
df_mm %>%  transform(as.numeric(df_mm$mm_obitos))
str(df_mm)
#convertendo as colunas
df_mm %>%  transform(as.numeric(df_mm$mm_obitos))
#convertendo as colunas
df_mm %>%  as.numeric(df_mm$mm_obitos)
#convertendo as colunas
df_mm %>%  as.factor(df_mm$mm_obitos)
str(df_mm)
#convertendo as colunas
risco <- as.numeric(as.character(df_mm$mm_obitos))
#convertendo as colunas
risco <- as.numeric(df_mm$mm_obitos)
#convertendo as colunas
df_mm  %>%  as.numeric(df_mm$mm_obitos)
#convertendo as colunas
media_movel_obitos <- as.numeric(df_mm$mm_obitos)
df_mm %>% bind_cols(df_mm,media_movel_obitos)
str(df_mm)
hist(df_mm$mm_obitos)
df_mm <-  bind_cols(df_mm,media_movel_obitos)
str(df_mm)
View(df_mm)
df_mm  %>%   bind_cols(df_mm,media_movel_obitos)
str(df_mm)
df_mm  %>%   bind_cols(df_mm,media_movel_obitos) %>% rename(obitos = ...3)
View(df_mm)
df_mm  %>%   bind_cols(df_mm,media_movel_obitos) %>% rename(obitos = media_movel_obitos)
View(df_mm)
df_mm  %>%   bind_cols(df_mm,media_movel_obitos) %>% rename(obitos = V3)
hist(media_movel_obitos)
source("~/R/Variäncia de médias COVID/Diferença entre médias COVID BR.R", encoding = 'UTF-8', echo=TRUE)
wilcox.test(filtro_iniciovax2, filtro_iniciovax1, paired=T)
wilcox.test(filtro_iniciovax2$obitosNovos, filtro_iniciovax1$obitosNovos, paired=T)
View(filtro_iniciovax2)
wilcox.test(filtro_iniciovax2$obitosNovos, filtro_iniciovax1$obitosNovos, paired=F)
filtro_halfvax <- filter(df, data >= half_vax)
View(filtro_halfvax)
filtro_halfvax2 <- filter(df, data >= half_vax)
filtro_halfvax1 <- filter(df, data < half_vax)
wilcox.test(filtro_halfvax2$obitosNovos, filtro_iniciovax1$obitosNovos, paired=F)
View(filtro_halfvax2)
View(df)
View(filtro_iniciovax2)
View(filtro_halfvax1)
